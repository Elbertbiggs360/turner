<md-progress-bar
  [color]="primary"
   mode="indeterminate"
   *ngIf="loading"
  >
</md-progress-bar>
<div class="u-overflowY u-padding10">
  <form *ngIf="authUser" name="form" (ngSubmit)="onSubmit()" (keyup.enter)="onSubmit()" #loginForm="ngForm">
    <div class="postMetaInline u-floatRight">
      <div class="u-flexTop">
        <div class="postMetaInline-avatar u-flex0">
          <a class="link avatar u-baseColor--link" href="https://medium.com/@danielhoek" data-action="show-user-card" data-action-value="63031a64c2da" data-action-type="hover" data-user-id="63031a64c2da" dir="auto">
            <img src="././assets/images/0-vh_oAbnRXYzUGkDD.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Daniel HoÅ¡ek">
          </a>
        </div>
        <div class="u-paddingLeft5">
          <md-input-container>
          <input class="link--accent u-accentColor--textNormal" mdInput type="text" placeholder=" {{authUser[0].first_name}} {{authUser[0].last_name}}" disabled name="created_by" [value]="authUser[0]._id"  id="create-created_by"  [(ngModel)]="model.created_by" #created_by="ngModel" >
          <div class="u-fontSize12">
            <time >{{today | date:'HH:mm, dd/MM/yy'}}</time>
          </div>
          </md-input-container>
        </div>
      </div>
    </div>
    <div class="u-marginTop20">
  	  <br>
  	  <md-input-container>
  	  	<input mdInput name="taskName" placeholder="Task Name" id="create-taskName" [(ngModel)]="model.taskName" #taskName="ngModel" autofocus required  size="85">
  		</md-input-container>
  		<br>
  		<md-input-container>
        <textarea mdInput placeholder="Task Description" name="description" [(ngModel)]="model.description" #description="ngModel" id="create-description" rows="3" class="create-description">Go to the 3rd floor and pick some items</textarea>
      </md-input-container>
    	<md-select placeholder="Assign to" id="create-assigned_to" [(ngModel)]="model.assigned_to" name="Assignee" #assigned_to="ngModel" required>
        <md-option [value]="authUser[0]._id"  selected="selected">
          <span class=" avatar u-assignee"><img src="./assets/images/0-vh_oAbnRXYzUGkDD.jpeg" alt="Me"></span>
          Me
        </md-option>
        <span  *ngIf="authUser[0].subjects">
          <md-option *ngFor="let user of authUser" [value]="user.subjects._id">
            <span class=" avatar u-assignee"><img src="./assets/images/0-vh_oAbnRXYzUGkDD.jpeg" alt="{{user.subjects.first_name}}"></span>
            <span class="u-inline">{{user.subjects.first_name}} {{user.subjects.last_name}}</span>
          </md-option>
        </span>
    	</md-select>
      <div class="form-group">
        <label for="create-duration" class="u-block">Duration</label>
        <md-slider
          [disabled]="disabled"
          [invert]="invert"
          [max]="max"
          [min]="min"
          [step]="step"
          [thumb-label]="thumbLabel"
          [tick-interval]="tickInterval"
          [value]="value"
          [vertical]="vertical"
          [(ngModel)]="model.duration"
          #duration = "ngModel"
          name="duration"
          id="create-duration"
          class="u-block">
        </md-slider>
      </div>
      <div class="form-group">
        <label for="create-start-date">Start Date</label>
        <input type="date" name="start_date" id="create-start-date"  [(ngModel)]="model.start_date" #start_date="ngModel">
      </div>
      <input type="text" name="created_by" [value]="authUser[0]._id"  id="create-created_by"  [(ngModel)]="model.created_by" #created_by="ngModel" hidden="hidden" >
    </div>
    <br class="u-block u-marginTop20">
    <div class="u-floatRight">
      <md-slide-toggle class="u-inline"
          [color]="secondary"
          [checked]="checked"
          [disabled]="disabled">
        High Priority
      </md-slide-toggle>
      <button type="submit" class="u-inline" md-raised-button >Create Task</button>
    </div>
	</form>
</div>